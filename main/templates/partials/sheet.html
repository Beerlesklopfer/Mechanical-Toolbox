{% block sheet-content %}
<style>
.title-bar {
    font-size: 2.5rem;
    font-weight: 700;
    border-radius: 18px;
    color: var(--owl-magenta);
}

.nav-tabs .nav-link {
    border: 1px solid var(--owl-magenta);
    border-bottom: none;
    margin-bottom: -1px;
    background-color: var(--owl-light-gray);
        color: var(--owl-gray);
        transition: all 0.3s ease;
    }

    .nav-tabs .nav-link:hover {
        background-color: #e9ecef;
        border-color: #dee2e6;
    }

    .nav-tabs .nav-link.active {
        background-color: white !important;
        border-color: #dee2e6 #dee2e6 white #dee2e6;
        color: #495057;
        font-weight: 500;
    }

    .nav-tabs {
        border-bottom: 1px solid #dee2e6;
    }

    .tab-content {
        background: white;
        min-height: 400px;
    }
    .tab-content {
        background: white;
        min-height: 160px;
        /* Optionally, use height: 400px; for fixed height */
    }
    .tab-pane {
        min-height: 800px;
        /* Optionally, use height: 100%; if .tab-content has fixed height */
        display: flex;
        flex-direction: column;
        justify-content: flex-start;
    }    
</style>

<div class="container-fluid">
    <!-- Headerbar -->
    <div class="container-fluid py-4 mb-4 bg-light border-bottom title-bar">
        <div class="row align-items-center mb-3">
            <div class="col text-center">
                <h1 class="display-8 fw-bold mb-1">
                    {% block app-title %} {{ app_title }} {% endblock %} 
                </h1>
            </div>
        </div>
    </div> <!-- Headerbar -->

    <!-- nav tabs -->
    <ul class="nav nav-tabs nav-justified" style="border-bottom: none;">
        <li class="nav-item">
            <a class="nav-link active rounded-top" data-bs-toggle="tab" href="#calculation"
               style="border-radius: 15px 15px 0 0 !important;">
                <i class="fas fa-calculator me-2"></i>Berechnung
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link rounded-top" data-bs-toggle="tab" href="#standards"
               style="border-radius: 15px 15px 0 0 !important;">
                <i class="fas fa-book me-2"></i>Normen
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link rounded-top" data-bs-toggle="tab" href="#hints"
               style="border-radius: 15px 15px 0 0 !important;">
                <i class="fas fa-info-circle me-2"></i>Erklärende Hinweise
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link rounded-top" data-bs-toggle="tab" href="#examples"
               style="border-radius: 15px 15px 0 0 !important;">
                <i class="fas fa-graduation-cap me-2"></i>Beispiele
            </a>
        </li>
        <li class="nav-item">
            <a class="nav-link rounded-top" data-bs-toggle="tab" href="#exercises"
               style="border-radius: 15px 15px 0 0 !important;">
                <i class="fas fa-graduation-cap me-2"></i>Übungen
            </a>
        </li>
        {% block custom-tabs%}
        <!-- Hier können weitere Tabs hinzugefügt werden -->
        {% endblock %}
    </ul>

    <!-- Pane Content -->
    <div class="tab-content border p-3 rounded" style="border-top-left-radius: 0 !important;" id="tab-content">

        <!-- Berechnung Tab -->
        <div class="tab-pane fade show active mx-5" id="calculation" role="tabpanel">
            <div class="container-box">
                <!-- Hier deine Berechnungsinhalte einfügen -->
                {% include calculation_partial %}
            </div>
        </div>

        <!-- Normen Tab -->
        <div class="tab-pane fade mx-5" id="standards" role="tabpanel">
            <div class="container-box">
                <!-- Hier Normen-Inhalte einfügen -->
                {% include standards_partial %}
            </div>
        </div>

        <!-- Hinweise Tab -->
        <div class="tab-pane fade mx-5" id="hints" role="tabpanel" >
            <div class="container-box">
                <!-- Hier Erklärungstexte einfügen -->
                {% include hints_partial %}
            </div>
        </div>

        <!-- Examples Tab -->
        <div class="tab-pane fade mx-5" id="examples" role="tabpanel">
            <div class="container-box">
                <!-- Hier Übungsaufgaben einfügen -->
                    {% include examples_partial %}
                </div>
        </div>

        <!-- Übungen Tab -->
        <div class="tab-pane fade mx-5" id="exercises" role="tabpanel">
            <div class="container-box">
                <!-- Hier Übungsaufgaben einfügen -->
                {% include exercises_partial %}
            </div>
        </div>

        {% block custom-panes %}
        <!-- Hier können weitere Pane-Inhalte hinzugefügt werden -->
        {% endblock %}
        
    </div> <!-- Pane Content -->
</div> <!-- Container Fluid -->

<script>
    //     ######### TAB NAVIGATION#########
    document.addEventListener('DOMContentLoaded', function () {
        const tabLinks = document.querySelectorAll('.nav-tabs .nav-link');
        const tabPanes = document.querySelectorAll('.tab-pane.fade');
        tabLinks.forEach(function (link) {
            link.addEventListener('click', function (e) {
                e.preventDefault();

                // Remove active class from all links and panes
                tabLinks.forEach(l => l.classList.remove('active'));
                tabPanes.forEach(p => {
                    p.classList.remove('show', 'active');
                });

                // Add active class to clicked link
                link.classList.add('active');

                // Get the target pane by href
                const targetIndex = Array.from(tabLinks).indexOf(link);
                if (targetIndex !== -1 && tabPanes[targetIndex]) {
                    tabPanes[targetIndex].classList.add('show', 'active');
                }
            });
        });
    });
</script>
{% endblock %}


